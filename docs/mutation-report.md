# Mutation testing report (ЛР5)

## Інструмент та обсяг

Для мутаційного тестування використано **Stryker** (JS). Мутації запускались для модуля валідації (Zod):

- `apps/people-service/src/validation/people.ts`
- `apps/event-service/src/validation/events.ts`

Загалом було згенеровано **35 мутантів**.

## Результати

- **All files:** Mutation score **77.14%** (killed: 27, survived: 8)
- **event-service:** **90%** (killed: 9, survived: 1)
- **people-service:** **72%** (killed: 18, survived: 7)

HTML-звіт Stryker: `reports/mutation/mutation.html` (локально).

## Аналіз survived-мутантів

Мутанти, що “вижили”, в основному пов’язані з валідацією:

- ослаблення/заміна regex для `phone` (вкорочення шаблону або зміна класу символів);
- підміна повідомлень про помилки на порожній рядок (`""`) для `email`, `fullName`;
- спрощення `.refine()` для `startsAt`, коли функція перевірки перестає реально перевіряти формат дати.

Це означає, що частина тестів перевіряє “факт помилки”, але не завжди перевіряє
точність правил (якорі `^/$`, допустимі символи/довжину) або конкретні повідомлення помилок.

## Що покращити далі

- Додати негативні кейси для `phone`, які ловлять:
  - сміття на початку/в кінці рядка (перевірка якорів `^/$`);
  - недопустимі символи та граничні довжини.
- Для `email/fullName` перевіряти не лише `success=false`, а і зміст `issues[].message`
  (щоб мутації `message -> ""` не проходили).
- Для `startsAt` додати тести на некоректні строки дати та перевіряти конкретну помилку.

Висновок: поточний набір тестів вже добре виявляє більшість помилок валідації,
але є простір для посилення перевірок “якості” правил (regex/refine) і повідомлень про помилки.
